# Delegate  

## 목표
 - 대리자 선언 및 호출 (`A-DelegateTest`)
 - 이벤트 선언 및 호출 (`B-Event`)

## 대리자 (Delegate) vs. 인터페이스 (Interface)

### 대리자를 사용하는 경우
 - 이벤트 디자인 패턴을 사용하는 경우
 - 정적 메서드를 캡슐화해야 하는 경우
 - 메서드를 구현하는 개체에 대한 다른 속성, 메서드, 또는 인터페이스에 호출자가 엑세스할 필요가 없는 경우
 - 쉽게 작성하려는 경우
 - 메서드에 대한 여러 구현이 클래스에 필요한 경우

### 인터페이스를 사용하는 경우
 - 호출할 수 있는 관련 메서드의 그룹이 있는 경우
 - 클래스에 메서드의 구현이 하나만 필요한 경우
 - 인터페이스를 사용하는 클래스에서 이 인터페이스를 다른 인터페이스나 클래스 형식에 캐스팅하려는 경우
 - 비교 메서드의 경우와 같이 구현하려는 메서드가 클래스의 형식이나 동일설 여부와 관련되어 있는 경우

## `dotnet` 실행어

### `dotnet new sln`
솔루션 서식 생성

### `dotnet sln add ...${프로젝트이름}.csproj`
솔루션에 프로젝트 추가 

### `dotnet build ${SLN파일}.sln`
솔루션에 모두 포함되어 있는 대상 모듈 컴파일 후 실행 

### `dotnet new console`
콘솔용 애플리케이션 생성

### `dotnet run`
컴파일 후 실행

### `*.csproj` 파일에서 컴파일 대상에서 제외

```xml
...
  <ItemGroup>
    <Compile Remove="InheritEx1.cs" />
    ...
  </ItemGroup>

  <ItemGroup>
    <None Include="InheritEx1.cs" />
    ...
  </ItemGroup>
...
```


## Tip: 인덱스크기의오류

```cs
...
tp2 = delegate(double d)
{
    Consle.WriteLine("d="+ d);
}
tp2(90.8);
..
```

```bash
매배 변수 형식이 대리자 매개 변수 형식과 일치 않으므로 무명 메서드를(을) 대리자 형식 '대리자와이벤트.대리자.Testp'(으)로 변환할 수 없습니다.
'1' 매개 변수가 'double' 형식으로 선언되었지만 'string'형식이어야 합니다.
'대리자와이벤트.대리자.Testp' 대리자에 잘못된 인수가 있습니다.
'1' 인수: 'double' 에서 'string'(으)로 변환할 수 없습니다.
```

#### 문제 분석
- 4개의 오류를 발생하는 것은 첫 번째 오류 메세지에 첫 줄에 선언된 tp2라는 대리자의 원형이 double가 없다는 것.
- `Pt2 = delegate(double d)`
- 두 번째 오류는 선언된 `double`는 없고 `String` 형식을 받는 매개 변수가 있는데 형식이 잘못되었다고 나는 에러입니다. 따라서 형변환이되지 않기 때문에 세 번째와 네 번째 오류가 나는 것입니다.
- 선언된 대리자에 전달되는 값과 무명 메소드의 매개 인자는 대리자의 원형과 일치해야 합니다.


